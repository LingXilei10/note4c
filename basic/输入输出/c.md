## 一直读取很多行

**while(scanf("%d %d",&a,&b)!=EOF)**

```c
#include <stdio.h>

int main() {
    int a, b;
    while (scanf("%d %d", &a, &b) != EOF) { // 注意 while 处理多个 case
        // 64 位输出请用 printf("%lld") to 
        printf("%d\n", a + b);
    }
    return 0;
}
```

在C语言中，`scanf` 函数用于从标准输入（通常是键盘）读取数据，并将读取到的值存储到指定的变量中。**`scanf` 的返回值是一个整数，表示成功读取的输入项的数量。**

### 表达式 `scanf("%d %d", &a, &b) != EOF` 的含义

1. **`scanf("%d %d", &a, &b)`**
   - 这是一个调用 `scanf` 函数的表达式，用于从标准输入读取两个整数，并将它们分别存储到变量 `a` 和 `b` 中。
   - 格式字符串 `"%d %d"` 指定了输入的格式，表示期望读取两个整数。
   - `&a` 和 `&b` 是变量 `a` 和 `b` 的地址，`scanf` 函数需要这些地址来存储读取到的值。

2. **`scanf` 的返回值**
   - `scanf` 的返回值是一个整数，表示成功读取的输入项的数量。
     - 如果成功读取了两个整数，返回值为 `2`。
     - 如果只成功读取了一个整数，返回值为 `1`。
     - **如果没有成功读取任何输入项（例如，输入的内容不符合格式要求），返回值为 `0`。**
     - **如果到达了输入流的末尾（例如，用户在终端输入了 `Ctrl+D` 或 `Ctrl+Z`），返回值为 `EOF`（通常定义为 `-1`）。**

3. **`!= EOF`**
   - `EOF` 是一个特殊的常量，表示输入流的末尾（End Of File）。在标准输入的情况下，`EOF` 通常表示用户已经完成了输入。
   - `scanf("%d %d", &a, &b) != EOF` 的意思是：检查 `scanf` 的返回值是否不等于 `EOF`。
     - 如果返回值不等于 `EOF`，说明输入流尚未结束，`scanf` 仍然可以继续读取输入。
     - 如果返回值等于 `EOF`，说明已经到达输入流的末尾，没有更多的输入可以读取。

### 使用场景

这种表达式通常用于循环中，用于持续读取用户输入，直到用户结束输入。例如：

```c
#include <stdio.h>

int main() {
    int a, b;

    while (scanf("%d %d", &a, &b) != EOF) {
        printf("You entered: %d and %d\n", a, b);
    }

    printf("Input ended.\n");
    return 0;
}
```

在这个程序中：
- `while (scanf("%d %d", &a, &b) != EOF)` 循环会持续读取用户输入的两个整数，直到用户结束输入（例如，在终端输入 `Ctrl+D` 或 `Ctrl+Z`）。
- 每次成功读取两个整数后，程序会打印出用户输入的值。
- 当用户结束输入时，`scanf` 返回 `EOF`，循环结束，程序打印 "Input ended." 并退出。

### 注意事项
- `scanf` 的返回值不仅仅是 `EOF` 或 `0`，它还可能返回其他值（如 `1` 或 `2`），具体取决于成功读取的输入项数量。
- 如果输入的内容不符合格式要求（例如，用户输入了非整数字符），`scanf` 可能会返回 `0`，但不会触发 `EOF`。这种情况下，输入流中可能会残留无效的输入数据，需要额外处理。
- 在实际编程中，建议对 `scanf` 的返回值进行更详细的检查，以确保输入的有效性和程序的健壮性。