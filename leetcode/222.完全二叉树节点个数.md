

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

#include <cmath>

class Solution {
public:
    int countNodes(TreeNode* root) {
        TreeNode* l = root;
        TreeNode* r = root;
        // è®°å½•å·¦ã€å³å­æ ‘çš„é«˜åº¦
        int hl = 0, hr = 0;
        while (l != nullptr) {
            l = l->left;
            hl++;
        }
        while (r != nullptr) {
            r = r->right;
            hr++;
        }
        // å¦‚æœå·¦å³å­æ ‘çš„é«˜åº¦ç›¸åŒï¼Œåˆ™æ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘
        if (hl == hr) {
            return (int)pow(2, hl) - 1;
        }
        // å¦‚æœå·¦å³é«˜åº¦ä¸åŒï¼Œåˆ™æŒ‰ç…§æ™®é€šäºŒå‰æ ‘çš„é€»è¾‘è®¡ç®—
        return 1 + countNodes(root->left) + countNodes(root->right);
    }
};
// è¯¦ç»†è§£æå‚è§ï¼š
// https://labuladong.online/algo/data-structure/count-complete-tree-nodes/

```

