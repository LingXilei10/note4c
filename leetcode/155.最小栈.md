## è‡ªå·±

```cpp
class MinStack {
    stack<int> stk;
    stack<int> min_stk;
public:
    MinStack() {
        
    }
    
    void push(int val) {
        int min_val=min_stk.empty()? val:min(min_stk.top(),val); // å•Šæˆ‘ç«Ÿç„¶ä¼šå†™é”™è¿™ä¸ª
        min_stk.push(min_val);
        stk.push(val);
        
    }
    
    void pop() {
        stk.pop();
        min_stk.pop();
    }
    
    int top() {
        return stk.top();
    }
    
    int getMin() {
        return min_stk.top();
    }
};

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack* obj = new MinStack();
 * obj->push(val);
 * obj->pop();
 * int param_3 = obj->top();
 * int param_4 = obj->getMin();
 */
```



## labuladong

ä¸è¿‡åœ¨å…·ä½“è¯´è§£æ³•ä¹‹å‰ï¼Œæˆ‘æƒ³èŠä¸€ä¸‹åŠ¨æ€é›†åˆä¸­ç»´æŠ¤æœ€å€¼çš„é—®é¢˜ã€‚è¿™ç±»é—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†å®é™…ä¸Šæ˜¯ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ã€‚å…¶å®æœ¬é¢˜å°±æ˜¯å¦‚ä¸‹ä¸€ä¸ªåœºæ™¯ï¼š

å‡è®¾ä½ æœ‰è‹¥å¹²æ•°å­—ï¼Œ**ä½ ç”¨ä¸€ä¸ª `min` å˜é‡ç»´æŠ¤äº†å…¶ä¸­çš„æœ€å°å€¼ï¼Œå¦‚æœç°åœ¨ç»™è¿™äº›æ•°å­—ä¸­æ·»åŠ ä¸€ä¸ªæ–°æ•°å­—ï¼Œé‚£ä¹ˆåªè¦æ¯”è¾ƒè¿™ä¸ªæ–°æ•°å­—å’Œ `min` çš„å¤§å°å°±å¯ä»¥å¾—å‡ºæœ€æ–°çš„æœ€å°å€¼**ã€‚ä½†å¦‚æœç°åœ¨ä»è¿™äº›æ•°å­—é’Ÿåˆ é™¤ä¸€ä¸ªæ•°å­—ï¼Œä½ è¿˜èƒ½ç”¨ `min` å˜é‡å¾—åˆ°æœ€å°å€¼å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ï¼Œå› ä¸ºå¦‚æœè¿™ä¸ªè¢«åˆ é™¤çš„æ•°å­—æ°å¥½æ˜¯æœ€å°å€¼ï¼Œé‚£ä¹ˆæ–°çš„ `min` å˜é‡åº”è¯¥æ›´æ–°ä¸ºç¬¬äºŒå°çš„å…ƒç´ å¯¹å§ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰è®°å½•ç¬¬äºŒå°çš„å…ƒç´ æ˜¯å¤šå°‘ï¼Œæ‰€ä»¥åªèƒ½æŠŠæ‰€æœ‰æ•°å­—é‡æ–°éå†ä¸€éã€‚

æ˜ç¡®äº†éš¾ç‚¹å†å›åˆ°æœ¬é¢˜ï¼Œå°±å¯ä»¥å¯¹ç—‡ä¸‹è¯äº†ã€‚åˆ é™¤æ ˆé¡¶å…ƒç´ çš„æ—¶å€™ï¼Œä¸ç¡®å®šæ–°çš„æœ€å°å€¼æ˜¯å¤šå°‘ï¼Œä½†æ¥¼ä¸‹é‚£å“¥ä»¬çŸ¥é“å•Šï¼Œä»–å½“æ—¶å…¥æ ˆæ—¶çš„æœ€å°å€¼ï¼Œå°±æ˜¯ç°åœ¨çš„æœ€å°å€¼å‘—ã€‚

æ‰€ä»¥è¿™é“é¢˜çš„å…³é”®å°±æ˜¯ï¼Œ**æ¯ä¸ªå…ƒç´ å…¥æ ˆæ—¶ï¼Œè¿˜è¦è®°ä¸‹æ¥å½“å‰æ ˆä¸­çš„æœ€å°å€¼**ã€‚æ¯”æ–¹è¯´ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé¢å¤–çš„æ ˆ `minStk` æ¥è®°å½•æ ˆä¸­æ¯ä¸ªå…ƒç´ å…¥æ ˆæ—¶çš„æ ˆä¸­çš„æœ€å°å…ƒç´ æ˜¯å¤šå°‘ï¼Œè¿™æ ·æ¯æ¬¡åˆ é™¤å…ƒç´ æ—¶å°±èƒ½å¿«é€Ÿå¾—åˆ°å‰©ä½™æ ˆä¸­çš„æœ€å°å…ƒç´ äº†ã€‚



![img](E:\076lxl\work\note4c\leetcode\assets\155.jpeg)



å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšä¸€äº›ä¼˜åŒ–ï¼Œå‡å°‘ `minStk` ä¸­å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ï¼Œæˆ‘æŠŠåŸå§‹è§£æ³•å’Œä¼˜åŒ–è§£æ³•éƒ½å†™å‡ºæ¥äº†ï¼Œä¾›å‚è€ƒã€‚

> PSï¼šè¿™é“é¢˜å¹¶ä¸éš¾ï¼Œä½†æˆ‘è¿˜æ˜¯å¾ˆç»†è‡´åœ°åˆ†æäº†ï¼Œå¸Œæœ›ä½ æ·±åˆ»ç†è§£å…¶ä¸­çš„éš¾ç‚¹ã€‚ä¸‹ä¸€æ­¥å¯ä»¥åšä¸€ä¸‹ [239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum)ï¼Œè¯·ä»”ç»†è§‚å¯Ÿå’Œæ€è€ƒï¼Œé˜Ÿåˆ—ç»“æ„æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªéš¾ç‚¹çš„ã€‚

## è§£æ³•ä»£ç 

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

// åŸå§‹æ€è·¯
class MinStack1 {
    // è®°å½•æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ 
    stack<int> stk;
    // é˜¶æ®µæ€§è®°å½•æ ˆä¸­çš„æœ€å°å…ƒç´ 
    stack<int> minStk;

public:
    void push(int val) {
        stk.push(val);
        // ç»´æŠ¤ minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ 
        if (minStk.empty() || val <= minStk.top()) {   
            // è¿™é‡Œçš„ç­‰äºå·å¯æœ‰å¯æ—  æ— è®ºå¦‚ä½•å­˜å…¥éƒ½æ˜¯ä¸€æ ·çš„å€¼
            // æ–°æ’å…¥çš„è¿™ä¸ªå…ƒç´ å°±æ˜¯å…¨æ ˆæœ€å°çš„
            minStk.push(val);
        } else {
            // æ’å…¥çš„è¿™ä¸ªå…ƒç´ æ¯”è¾ƒå¤§
            minStk.push(minStk.top());
        }
    }
    
    void pop() {
        stk.pop();
        minStk.pop();
    }
    
    int top() {
        return stk.top();
    }
    
    int getMin() {
        // minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ 
        return minStk.top();
    }
};

// ä¼˜åŒ–ç‰ˆ
class MinStack {
    // è®°å½•æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ 
    stack<int> stk;
    // é˜¶æ®µæ€§è®°å½•æ ˆä¸­çš„æœ€å°å…ƒç´ 
    stack<int> minStk;

public:
    void push(int val) {
        stk.push(val);
        // ç»´æŠ¤ minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ 
        if (minStk.empty() || val <= minStk.top()) {
            // è¿™é‡Œçš„=ä¸å¯æˆ–ç¼ºï¼Œä¸‹é¢è¦æŠŠæœ€å°å€¼=popå€¼çš„ä¸€åŒpopæ‰
            // æ–°æ’å…¥çš„è¿™ä¸ªå…ƒç´ å°±æ˜¯å…¨æ ˆæœ€å°çš„
            minStk.push(val);
        }
    }

    void pop() {
        // æ³¨æ„ Java çš„è¯­è¨€ç‰¹æ€§ï¼Œæ¯”è¾ƒ Integer ç›¸ç­‰è¦ç”¨ equals æ–¹æ³•
        if (stk.top() == minStk.top()) {
            // å¼¹å‡ºçš„å…ƒç´ æ˜¯å…¨æ ˆæœ€å°çš„
            minStk.pop();
        }
        stk.pop();
    }

    int top() {
        return stk.top();
    }

    int getMin() {
        // minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ 
        return minStk.top();
    }
};
```